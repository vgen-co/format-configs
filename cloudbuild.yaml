options:
    requestedVerifyOption: 'VERIFIED'

steps:
    - id: 'artifactregistry-login'
      name: 'node:24.10'
      entrypoint: 'npm'
      args: ['run', 'artifactregistry-login']

    - id: 'install-dependencies'
      name: 'node:24.10'
      entrypoint: 'npm'
      args: ['ci', '--ignore-scripts']

    - id: 'build'
      name: 'node:24.10'
      entrypoint: 'npm'
      args: ['run', 'build']

artifacts:
    npmPackages:
        - repository: 'https://us-npm.pkg.dev/${PROJECT_ID}/vgen-npm-packages'
          packagePath: './'
